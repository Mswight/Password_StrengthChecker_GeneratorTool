<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SecurePass | Password Strength Checker & Generator</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #4361ee;
            --primary-dark: #3a56d4;
            --secondary: #7209b7;
            --success: #4cc9f0;
            --warning: #f72585;
            --danger: #e63946;
            --light: #f8f9fa;
            --dark: #212529;
            --gray: #6c757d;
            --card-bg: rgba(255, 255, 255, 0.9);
            --shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: var(--dark);
            line-height: 1.6;
            min-height: 100vh;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .container {
            max-width: 900px;
            width: 100%;
            background: var(--card-bg);
            border-radius: 20px;
            box-shadow: var(--shadow);
            overflow: hidden;
            backdrop-filter: blur(10px);
            animation: fadeIn 0.8s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        header {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 30px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        header::before {
            content: "";
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0) 70%);
            transform: rotate(30deg);
        }

        .logo {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 15px;
        }

        .logo i {
            font-size: 2.5rem;
            margin-right: 15px;
            filter: drop-shadow(0 2px 5px rgba(0,0,0,0.2));
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .description {
            font-size: 1.1rem;
            opacity: 0.9;
            max-width: 600px;
            margin: 0 auto;
        }

        .main-content {
            padding: 30px;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
        }

        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
        }

        .section {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            transition: var(--transition);
        }

        .section:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }

        h2 {
            color: var(--primary);
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #f0f0f0;
            display: flex;
            align-items: center;
        }

        h2 i {
            margin-right: 10px;
            font-size: 1.5rem;
        }

        .input-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--dark);
        }

        .password-container {
            position: relative;
            display: flex;
        }

        input[type="password"],
        input[type="text"] {
            width: 100%;
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 1rem;
            transition: var(--transition);
            background: #f9f9f9;
        }

        input[type="password"]:focus,
        input[type="text"]:focus {
            border-color: var(--primary);
            outline: none;
            background: white;
            box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.2);
        }

        .toggle-password {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: var(--gray);
            cursor: pointer;
            font-size: 1.2rem;
            transition: var(--transition);
        }

        .toggle-password:hover {
            color: var(--primary);
        }

        .strength-meter {
            height: 12px;
            background-color: #f0f0f0;
            border-radius: 10px;
            margin: 20px 0;
            overflow: hidden;
            position: relative;
        }

        .strength-meter-fill {
            height: 100%;
            width: 0%;
            border-radius: 10px;
            transition: width 0.5s ease, background-color 0.5s ease;
            background: linear-gradient(90deg, var(--danger), var(--warning), var(--success));
        }

        .strength-text {
            font-weight: 600;
            margin-bottom: 15px;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .strength-dots {
            display: flex;
            gap: 5px;
        }

        .dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: #e0e0e0;
            transition: var(--transition);
        }

        .result-item {
            margin-bottom: 15px;
            padding: 12px 15px;
            background-color: #f8f9fa;
            border-radius: 10px;
            border-left: 4px solid var(--primary);
            transition: var(--transition);
        }

        .result-item:hover {
            background-color: #f0f2f5;
        }

        .result-label {
            font-weight: 600;
            margin-right: 5px;
            color: var(--dark);
        }

        .checkbox-group {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 20px;
        }

        @media (max-width: 480px) {
            .checkbox-group {
                grid-template-columns: 1fr;
            }
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 8px;
            transition: var(--transition);
        }

        .checkbox-item:hover {
            background: #f0f2f5;
        }

        .checkbox-item input {
            margin-right: 10px;
            transform: scale(1.2);
        }

        .slider-container {
            margin-bottom: 25px;
        }

        .slider {
            width: 100%;
            margin: 15px 0;
            appearance: none;
            -webkit-appearance: none;
            -moz-appearance: none;
            height: 8px;
            border-radius: 5px;
            background: #e0e0e0;
            outline: none;
        }

        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 22px;
            height: 22px;
            border-radius: 50%;
            background: var(--primary);
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            transition: var(--transition);
        }

        .slider::-webkit-slider-thumb:hover {
            background: var(--primary-dark);
            transform: scale(1.1);
        }

        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            border: none;
            padding: 15px 25px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: var(--transition);
            box-shadow: 0 4px 15px rgba(67, 97, 238, 0.3);
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(67, 97, 238, 0.4);
        }

        .btn:active {
            transform: translateY(-1px);
        }

        .btn i {
            margin-right: 8px;
        }

        .btn-block {
            display: flex;
            width: 100%;
        }

        .password-display {
            display: flex;
            margin-bottom: 20px;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }

        .password-display input {
            flex: 1;
            border: none;
            border-radius: 0;
            background: #f9f9f9;
            font-family: 'Courier New', monospace;
            font-weight: 600;
        }

        .copy-btn {
            background: var(--primary);
            border: none;
            color: white;
            padding: 0 20px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .copy-btn:hover {
            background: var(--primary-dark);
        }

        .tips {
            background: linear-gradient(135deg, #e0f7fa, #bbdefb);
            padding: 20px;
            border-radius: 15px;
            margin-top: 30px;
            grid-column: 1 / -1;
        }

        .tips h3 {
            color: var(--primary);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
        }

        .tips h3 i {
            margin-right: 10px;
        }

        .tips ul {
            padding-left: 20px;
        }

        .tips li {
            margin-bottom: 10px;
            position: relative;
        }

        .tips li::before {
            content: "✓";
            color: var(--success);
            font-weight: bold;
            position: absolute;
            left: -20px;
        }

        footer {
            text-align: center;
            padding: 20px;
            background-color: #f8f9fa;
            color: var(--gray);
            font-size: 0.9rem;
        }

        .breach-status {
            padding: 8px 12px;
            border-radius: 20px;
            font-weight: 600;
            text-align: center;
            display: inline-block;
            margin-top: 5px;
        }

        .breach-safe {
            background-color: rgba(76, 201, 240, 0.2);
            color: #0a9396;
        }

        .breach-found {
            background-color: rgba(230, 57, 70, 0.2);
            color: var(--danger);
        }

        .entropy-bar {
            height: 6px;
            background: #e0e0e0;
            border-radius: 3px;
            margin-top: 5px;
            overflow: hidden;
        }

        .entropy-fill {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, var(--danger), var(--warning), var(--success));
            transition: width 0.5s ease;
        }

        .feature-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
            margin-bottom: 15px;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <i class="fas fa-lock"></i>
                <h1>SecurePass</h1>
            </div>
            <p class="description">Advanced password strength analysis and secure password generation</p>
        </header>
        
        <div class="main-content">
            <section class="section">
                <h2><i class="fas fa-shield-alt"></i> Password Strength Checker</h2>
                
                <div class="input-group">
                    <label for="password-input">Enter a password to check:</label>
                    <div class="password-container">
                        <input type="password" id="password-input" placeholder="Type your password here">
                        <button class="toggle-password" id="toggle-password">
                            <i class="fas fa-eye"></i>
                        </button>
                    </div>
                </div>
                
                <div class="strength-text">
                    <span>Password Strength</span>
                    <div class="strength-dots">
                        <div class="dot" id="dot-1"></div>
                        <div class="dot" id="dot-2"></div>
                        <div class="dot" id="dot-3"></div>
                        <div class="dot" id="dot-4"></div>
                        <div class="dot" id="dot-5"></div>
                    </div>
                </div>
                
                <div class="strength-meter">
                    <div class="strength-meter-fill" id="strength-meter"></div>
                </div>
                
                <div id="checker-results">
                    <!-- Results will be populated here -->
                </div>
            </section>
            
            <section class="section">
                <h2><i class="fas fa-key"></i> Password Generator</h2>
                
                <div class="slider-container">
                    <label for="length-slider">Password Length: <span id="length-value">12</span> characters</label>
                    <input type="range" id="length-slider" class="slider" min="8" max="32" value="12">
                </div>
                
                <div class="checkbox-group">
                    <div class="checkbox-item">
                        <input type="checkbox" id="uppercase" checked>
                        <label for="uppercase">Uppercase (A-Z)</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="lowercase" checked>
                        <label for="lowercase">Lowercase (a-z)</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="numbers" checked>
                        <label for="numbers">Numbers (0-9)</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="symbols">
                        <label for="symbols">Symbols (!@#$)</label>
                    </div>
                </div>
                
                <button id="generate-btn" class="btn btn-block">
                    <i class="fas fa-sync-alt"></i> Generate Secure Password
                </button>
                
                <div class="password-display">
                    <input type="text" id="generated-password" readonly>
                    <button class="copy-btn" id="copy-btn">
                        <i class="fas fa-copy"></i>
                    </button>
                </div>
            </section>
            
            <div class="tips">
                <h3><i class="fas fa-lightbulb"></i> Password Security Tips</h3>
                <ul>
                    <li>Use at least 12 characters with a mix of character types</li>
                    <li>Avoid using personal information like names or birthdays</li>
                    <li>Don't reuse passwords across different accounts</li>
                    <li>Consider using a password manager for better security</li>
                    <li>Enable two-factor authentication whenever possible</li>
                </ul>
            </div>
        </div>
        
        <footer>
            <p>SecurePass &copy; 2025 | Password Strength Checker & Generator | By Fatima Alhusain</p>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // DOM Elements
            const passwordInput = document.getElementById('password-input');
            const togglePassword = document.getElementById('toggle-password');
            const strengthMeter = document.getElementById('strength-meter');
            const strengthText = document.querySelector('.strength-text span');
            const strengthDots = document.querySelectorAll('.dot');
            const checkerResults = document.getElementById('checker-results');
            const lengthSlider = document.getElementById('length-slider');
            const lengthValue = document.getElementById('length-value');
            const uppercaseCheck = document.getElementById('uppercase');
            const lowercaseCheck = document.getElementById('lowercase');
            const numbersCheck = document.getElementById('numbers');
            const symbolsCheck = document.getElementById('symbols');
            const generateBtn = document.getElementById('generate-btn');
            const generatedPassword = document.getElementById('generated-password');
            const copyBtn = document.getElementById('copy-btn');
            
            // Character sets for password generation
            const uppercaseChars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
            const lowercaseChars = 'abcdefghijklmnopqrstuvwxyz';
            const numberChars = '0123456789';
            const symbolChars = '!@#$%^&*()_+-=[]{}|;:,.<>?';
            
            // Common passwords list
            const commonPasswords = [
                'password', '123456', '12345678', '1234', 'qwerty', '12345', 
                'dragon', 'baseball', 'football', 'letmein', 'monkey', 'abc123',
                'mustang', 'michael', 'shadow', 'master', 'jennifer', '111111',
                '2000', 'jordan', 'superman', 'harley', '1234567', 'freedom'
            ];
            
            // Toggle password visibility
            togglePassword.addEventListener('click', function() {
                const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
                passwordInput.setAttribute('type', type);
                this.innerHTML = type === 'password' ? '<i class="fas fa-eye"></i>' : '<i class="fas fa-eye-slash"></i>';
            });
            
            // Update length value display
            lengthSlider.addEventListener('input', function() {
                lengthValue.textContent = this.value;
            });
            
            // Check password strength when input changes
            passwordInput.addEventListener('input', checkPasswordStrength);
            
            // Generate password when button is clicked
            generateBtn.addEventListener('click', generatePassword);
            
            // Copy generated password to clipboard
            copyBtn.addEventListener('click', copyPassword);
            
            // Function to check password strength
            function checkPasswordStrength() {
                const password = passwordInput.value;
                
                if (password.length === 0) {
                    resetStrengthDisplay();
                    return;
                }
                
                // Calculate password metrics
                const length = password.length;
                const hasUppercase = /[A-Z]/.test(password);
                const hasLowercase = /[a-z]/.test(password);
                const hasNumbers = /[0-9]/.test(password);
                const hasSymbols = /[^A-Za-z0-9]/.test(password);
                const isCommon = commonPasswords.includes(password.toLowerCase());
                
                // Calculate entropy
                const charsetSize = calculateCharsetSize(hasUppercase, hasLowercase, hasNumbers, hasSymbols);
                const entropy = Math.log2(Math.pow(charsetSize, length));
                
                // Calculate strength score (0-100)
                let score = 0;
                
                // Length contribution (max 40 points)
                score += Math.min(length * 4, 40);
                
                // Character variety contribution (max 40 points)
                let varietyCount = 0;
                if (hasUppercase) varietyCount++;
                if (hasLowercase) varietyCount++;
                if (hasNumbers) varietyCount++;
                if (hasSymbols) varietyCount++;
                score += (varietyCount - 1) * 10;
                
                // Entropy contribution (max 20 points)
                score += Math.min(entropy / 5, 20);
                
                // Penalty for common passwords
                if (isCommon) {
                    score = Math.max(score - 30, 0);
                }
                
                // Update strength meter and text
                updateStrengthDisplay(score, entropy, isCommon);
                
                // Display detailed results
                displayResults(length, hasUppercase, hasLowercase, hasNumbers, hasSymbols, entropy, isCommon);
            }
            
            // Function to calculate charset size for entropy calculation
            function calculateCharsetSize(hasUppercase, hasLowercase, hasNumbers, hasSymbols) {
                let size = 0;
                if (hasUppercase) size += 26;
                if (hasLowercase) size += 26;
                if (hasNumbers) size += 10;
                if (hasSymbols) size += 32; // Approximate number of common symbols
                return size;
            }
            
            // Function to update strength meter and text
            function updateStrengthDisplay(score, entropy, isCommon) {
                // Update meter width
                strengthMeter.style.width = `${score}%`;
                
                let strengthLevel, strengthColor;
                
                if (score < 30) {
                    strengthLevel = 'Very Weak';
                    strengthColor = '#e63946';
                    updateDots(1);
                } else if (score < 50) {
                    strengthLevel = 'Weak';
                    strengthColor = '#f72585';
                    updateDots(2);
                } else if (score < 70) {
                    strengthLevel = 'Fair';
                    strengthColor = '#ff9e00';
                    updateDots(3);
                } else if (score < 85) {
                    strengthLevel = 'Good';
                    strengthColor = '#4cc9f0';
                    updateDots(4);
                } else {
                    strengthLevel = 'Strong';
                    strengthColor = '#2a9d8f';
                    updateDots(5);
                }
                
                // Add warning for common passwords
                if (isCommon) {
                    strengthLevel += ' (Common Password)';
                }
                
                strengthText.textContent = strengthLevel;
                strengthMeter.style.background = strengthColor;
            }
            
            // Update strength indicator dots
            function updateDots(count) {
                strengthDots.forEach((dot, index) => {
                    if (index < count) {
                        dot.style.background = strengthMeter.style.background;
                    } else {
                        dot.style.background = '#e0e0e0';
                    }
                });
            }
            
            // Function to reset strength display
            function resetStrengthDisplay() {
                strengthMeter.style.width = '0%';
                strengthText.textContent = 'Password strength will appear here';
                strengthDots.forEach(dot => {
                    dot.style.background = '#e0e0e0';
                });
                checkerResults.innerHTML = '';
            }
            
            // Function to display detailed results
            function displayResults(length, hasUppercase, hasLowercase, hasNumbers, hasSymbols, entropy, isCommon) {
                let resultsHTML = '';
                
                // Length
                resultsHTML += `
                    <div class="result-item">
                        <span class="result-label">Length:</span> ${length} characters
                    </div>
                `;
                
                // Character types
                resultsHTML += `
                    <div class="result-item">
                        <span class="result-label">Character Types:</span>
                        ${hasUppercase ? '✓ Uppercase' : '✗ Uppercase'} | 
                        ${hasLowercase ? '✓ Lowercase' : '✗ Lowercase'} | 
                        ${hasNumbers ? '✓ Numbers' : '✗ Numbers'} | 
                        ${hasSymbols ? '✓ Symbols' : '✗ Symbols'}
                    </div>
                `;
                
                // Entropy
                const entropyPercent = Math.min(100, (entropy / 128) * 100);
                resultsHTML += `
                    <div class="result-item">
                        <span class="result-label">Entropy:</span> ${entropy.toFixed(2)} bits
                        <div class="entropy-bar">
                            <div class="entropy-fill" style="width: ${entropyPercent}%"></div>
                        </div>
                        <small>Higher entropy means more randomness and security</small>
                    </div>
                `;
                
                // Common password check
                resultsHTML += `
                    <div class="result-item">
                        <span class="result-label">Common Password:</span>
                        ${isCommon ? 
                            '<div class="breach-status breach-found">This is a commonly used password</div>' : 
                            '<div class="breach-status breach-safe">Not a common password</div>'
                        }
                    </div>
                `;
                
                // Security recommendations
                resultsHTML += `
                    <div class="result-item">
                        <span class="result-label">Recommendations:</span>
                        <ul style="margin-left: 20px; margin-top: 5px;">
                            ${length < 12 ? '<li>Use at least 12 characters</li>' : ''}
                            ${!hasUppercase ? '<li>Include uppercase letters</li>' : ''}
                            ${!hasLowercase ? '<li>Include lowercase letters</li>' : ''}
                            ${!hasNumbers ? '<li>Include numbers</li>' : ''}
                            ${!hasSymbols ? '<li>Include symbols</li>' : ''}
                            ${isCommon ? '<li>Avoid common passwords</li>' : ''}
                            ${entropy < 60 ? '<li>Increase password complexity</li>' : ''}
                        </ul>
                    </div>
                `;
                
                checkerResults.innerHTML = resultsHTML;
            }
            
            // Function to generate password
            function generatePassword() {
                const length = parseInt(lengthSlider.value);
                const useUppercase = uppercaseCheck.checked;
                const useLowercase = lowercaseCheck.checked;
                const useNumbers = numbersCheck.checked;
                const useSymbols = symbolsCheck.checked;
                
                // Validate that at least one character type is selected
                if (!useUppercase && !useLowercase && !useNumbers && !useSymbols) {
                    alert('Please select at least one character type');
                    return;
                }
                
                // Build character set based on selections
                let charset = '';
                if (useUppercase) charset += uppercaseChars;
                if (useLowercase) charset += lowercaseChars;
                if (useNumbers) charset += numberChars;
                if (useSymbols) charset += symbolChars;
                
                // Generate password
                let password = '';
                for (let i = 0; i < length; i++) {
                    const randomIndex = Math.floor(Math.random() * charset.length);
                    password += charset[randomIndex];
                }
                
                // Ensure at least one of each selected character type is included
                password = enforceCharacterTypes(password, useUppercase, useLowercase, useNumbers, useSymbols);
                
                // Display the generated password
                generatedPassword.value = password;
                
                // Automatically check the strength of the generated password
                passwordInput.value = password;
                checkPasswordStrength();
            }
            
            // Function to ensure at least one of each selected character type is included
            function enforceCharacterTypes(password, useUppercase, useLowercase, useNumbers, useSymbols) {
                let chars = password.split('');
                
                // Helper function to check if a character type exists
                const hasType = (regex) => regex.test(password);
                
                // Replace characters if needed to ensure all selected types are included
                if (useUppercase && !hasType(/[A-Z]/)) {
                    const randomIndex = Math.floor(Math.random() * chars.length);
                    chars[randomIndex] = uppercaseChars[Math.floor(Math.random() * uppercaseChars.length)];
                }
                
                if (useLowercase && !hasType(/[a-z]/)) {
                    const randomIndex = Math.floor(Math.random() * chars.length);
                    chars[randomIndex] = lowercaseChars[Math.floor(Math.random() * lowercaseChars.length)];
                }
                
                if (useNumbers && !hasType(/[0-9]/)) {
                    const randomIndex = Math.floor(Math.random() * chars.length);
                    chars[randomIndex] = numberChars[Math.floor(Math.random() * numberChars.length)];
                }
                
                if (useSymbols && !hasType(/[^A-Za-z0-9]/)) {
                    const randomIndex = Math.floor(Math.random() * chars.length);
                    chars[randomIndex] = symbolChars[Math.floor(Math.random() * symbolChars.length)];
                }
                
                return chars.join('');
            }
            
            // Function to copy password to clipboard
            function copyPassword() {
                const password = generatedPassword.value;
                
                if (!password) {
                    alert('No password to copy');
                    return;
                }
                
                // Use the Clipboard API if available
                if (navigator.clipboard && navigator.clipboard.writeText) {
                    navigator.clipboard.writeText(password)
                        .then(() => {
                            // Visual feedback
                            const originalHTML = copyBtn.innerHTML;
                            copyBtn.innerHTML = '<i class="fas fa-check"></i>';
                            setTimeout(() => {
                                copyBtn.innerHTML = originalHTML;
                            }, 2000);
                        })
                        .catch(err => {
                            console.error('Failed to copy: ', err);
                            fallbackCopyTextToClipboard(password);
                        });
                } else {
                    fallbackCopyTextToClipboard(password);
                }
            }
            
            // Fallback method for copying to clipboard
            function fallbackCopyTextToClipboard(text) {
                const textArea = document.createElement('textarea');
                textArea.value = text;
                textArea.style.position = 'fixed';
                textArea.style.opacity = '0';
                document.body.appendChild(textArea);
                textArea.focus();
                textArea.select();
                
                try {
                    const successful = document.execCommand('copy');
                    if (successful) {
                        const originalHTML = copyBtn.innerHTML;
                        copyBtn.innerHTML = '<i class="fas fa-check"></i>';
                        setTimeout(() => {
                            copyBtn.innerHTML = originalHTML;
                        }, 2000);
                    } else {
                        alert('Failed to copy password');
                    }
                } catch (err) {
                    console.error('Fallback copy failed: ', err);
                    alert('Failed to copy password');
                }
                
                document.body.removeChild(textArea);
            }
            
            // Initialize with a generated password
            generatePassword();
        });
    </script>
</body>
</html>